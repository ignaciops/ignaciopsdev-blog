---
import { Image } from 'astro:assets';
import PostMeta from './PostMeta.astro';
import TagList from './TagList.astro';

interface Props {
  title: string;
  slug: string;
  date: Date;
  summary: string;
  tags: string[];
  readingText: string;
  coverImage?: string;
}

const { title, slug, date, summary, tags, readingText, coverImage } = Astro.props;
---

<article data-testid="featured-post" class="group border-2 border-brand-600 dark:border-brand-400 rounded-lg overflow-hidden">
  {coverImage && (
    <a href={`/blog/${slug}`}>
      <Image
        data-testid="featured-post-image"
        src={coverImage}
        alt={title}
        width={800}
        height={400}
        class="w-full h-64 object-cover"
        loading="lazy"
        decoding="async"
      />
    </a>
  )}

  <div class="p-6">
    <div data-testid="featured-post-badge" class="inline-block px-3 py-1 bg-brand-600 dark:bg-brand-400 text-white text-xs font-bold uppercase tracking-wider rounded mb-4">
      Destacado
    </div>

    <a href={`/blog/${slug}`} class="block">
      <PostMeta date={date} readingText={readingText} dateFormat="long" />

      <h2 data-testid="featured-post-title" class="text-3xl font-sans font-bold text-gray-900 dark:text-gray-100 group-hover:text-brand-600 dark:group-hover:text-brand-400 transition-colors my-3">
        {title}
      </h2>

      <p data-testid="featured-post-summary" class="text-gray-600 dark:text-gray-400 leading-relaxed mb-4">
        {summary}
      </p>
    </a>

    <TagList tags={tags} size="md" />
  </div>
</article>
